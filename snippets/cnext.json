{
  "Scope": {
    "prefix": "scope",
    "body": [
      "scope ${1:Name} {",
      "\tprivate {",
      "\t\t$2",
      "\t}",
      "",
      "\tpublic {",
      "\t\t$0",
      "\t}",
      "}"
    ],
    "description": "C-Next scope (singleton service with prefixed members)"
  },
  "Scope Simple": {
    "prefix": "scopep",
    "body": ["scope ${1:Name} {", "\tpublic {", "\t\t$0", "\t}", "}"],
    "description": "C-Next scope with public section only"
  },
  "Register": {
    "prefix": "register",
    "body": [
      "register ${1:Name} @ ${2:0x00000000} {",
      "\t${3:field}: ${4:u32} ${5|rw,ro,wo,w1c,w1s|};",
      "\t$0",
      "}"
    ],
    "description": "Hardware register binding for memory-mapped I/O"
  },
  "Register Member": {
    "prefix": "regmem",
    "body": "${1:field}: ${2:u32} ${3|rw,ro,wo,w1c,w1s|};",
    "description": "Register member with access modifier"
  },
  "Struct": {
    "prefix": "struct",
    "body": ["struct ${1:Name} {", "\t${2:field}: ${3:u32};", "\t$0", "}"],
    "description": "C-Next struct definition"
  },
  "Enum": {
    "prefix": "enum",
    "body": [
      "enum ${1:Name}: ${2:u8} {",
      "\t${3:Value1},",
      "\t${4:Value2},",
      "\t$0",
      "}"
    ],
    "description": "C-Next type-safe enumeration"
  },
  "Bitmap": {
    "prefix": "bitmap",
    "body": [
      "bitmap ${1:Name}: ${2|bitmap8,bitmap16,bitmap24,bitmap32|} {",
      "\t${3:flag1},",
      "\t${4:flag2},",
      "\t$0",
      "}"
    ],
    "description": "C-Next bitmap type for flag sets"
  },
  "Function": {
    "prefix": "fn",
    "body": ["${1:void} ${2:functionName}(${3}) {", "\t$0", "}"],
    "description": "Function definition"
  },
  "Public Function": {
    "prefix": "pfn",
    "body": ["public ${1:void} ${2:functionName}(${3}) {", "\t$0", "}"],
    "description": "Public function definition (inside scope)"
  },
  "Main Function": {
    "prefix": "main",
    "body": ["void main() {", "\t$0", "}"],
    "description": "Main entry point"
  },
  "Main with Return": {
    "prefix": "mainret",
    "body": ["u32 main() {", "\t$0", "\treturn 0;", "}"],
    "description": "Main entry point with return value"
  },
  "For Loop": {
    "prefix": "for",
    "body": [
      "for (${1:u32} ${2:i} <- ${3:0}; ${2:i} < ${4:count}; ${2:i}++) {",
      "\t$0",
      "}"
    ],
    "description": "For loop with C-Next assignment operator"
  },
  "For Range": {
    "prefix": "forr",
    "body": [
      "for (${1:u32} ${2:i} <- ${3:0}; ${2:i} < ${4:array}.length; ${2:i}++) {",
      "\t$0",
      "}"
    ],
    "description": "For loop iterating over array"
  },
  "While Loop": {
    "prefix": "while",
    "body": ["while (${1:condition}) {", "\t$0", "}"],
    "description": "While loop"
  },
  "Do-While Loop": {
    "prefix": "dowhile",
    "body": ["do {", "\t$0", "} while (${1:condition});"],
    "description": "Do-while loop (executes at least once)"
  },
  "If": {
    "prefix": "if",
    "body": ["if (${1:condition}) {", "\t$0", "}"],
    "description": "If statement"
  },
  "If-Else": {
    "prefix": "ife",
    "body": ["if (${1:condition}) {", "\t$2", "} else {", "\t$0", "}"],
    "description": "If-else statement"
  },
  "If-Else If-Else": {
    "prefix": "ifei",
    "body": [
      "if (${1:condition1}) {",
      "\t$2",
      "} else if (${3:condition2}) {",
      "\t$4",
      "} else {",
      "\t$0",
      "}"
    ],
    "description": "If-else if-else statement"
  },
  "Switch": {
    "prefix": "switch",
    "body": [
      "switch (${1:expression}) {",
      "\tcase ${2:value1}: {",
      "\t\t$3",
      "\t}",
      "\tcase ${4:value2}: {",
      "\t\t$5",
      "\t}",
      "\tdefault: {",
      "\t\t$0",
      "\t}",
      "}"
    ],
    "description": "Switch statement with required braces per case (ADR-025)"
  },
  "Switch Case": {
    "prefix": "case",
    "body": ["case ${1:value}: {", "\t$0", "}"],
    "description": "Switch case with required braces"
  },
  "Const": {
    "prefix": "const",
    "body": "const ${1:NAME}: ${2:u32} <- ${3:value};",
    "description": "Compile-time constant"
  },
  "Variable": {
    "prefix": "var",
    "body": "${1:u32} ${2:name} <- ${3:value};",
    "description": "Variable declaration with initialization"
  },
  "Array": {
    "prefix": "arr",
    "body": "${1:u32} ${2:name}[${3:size}];",
    "description": "Array declaration"
  },
  "Array Initialized": {
    "prefix": "arri",
    "body": "${1:u32} ${2:name}[${3:size}] <- {${4:values}};",
    "description": "Array declaration with initialization"
  },
  "Include Local": {
    "prefix": "incl",
    "body": "#include \"${1:filename}.h\"",
    "description": "Include local header file"
  },
  "Include System": {
    "prefix": "incs",
    "body": "#include <${1:header}.h>",
    "description": "Include system header file"
  },
  "ISR": {
    "prefix": "isr",
    "body": ["ISR ${1:interruptName}() {", "\t$0", "}"],
    "description": "Interrupt Service Routine"
  },
  "Ternary": {
    "prefix": "tern",
    "body": "${1:condition} ? ${2:trueValue} : ${3:falseValue}",
    "description": "Ternary conditional expression"
  },
  "Clamp Variable": {
    "prefix": "clamp",
    "body": "clamp ${1:u16} ${2:name} <- ${3:0};",
    "description": "Variable with clamp overflow (saturates at min/max)"
  },
  "Wrap Variable": {
    "prefix": "wrap",
    "body": "wrap ${1:u32} ${2:name} <- ${3:0};",
    "description": "Variable with wrap overflow (two's complement)"
  }
}
